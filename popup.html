<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="appContainer">
        <div class="header"></div>
        <div class="content">
            <div class="status-header"></div>
            <div class="power-button-container">
                <div class="power-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24" class="power-button-icon" focusable="false" role="presentation" tabindex="-1">
                        <path fill="#001D2F" fill-rule="evenodd" d="M18.4577079,8.22289188 C20.7816334,11.3977569 20.4648,15.8333038 17.6619798,18.6469938 C14.5367581,21.7843354 9.46847908,21.7843354 6.34325742,18.6469938 C3.54287063,15.8357467 3.22392745,11.4050937 5.54200658,8.23044605 C5.86769376,7.78441208 6.49329736,7.68685173 6.93933133,8.01253891 C7.38536531,8.33822609 7.48292566,8.9638297 7.15723847,9.40986367 C5.41725615,11.7927982 5.65707121,15.1242295 7.76020527,17.2355198 C10.103757,19.5881601 13.9014802,19.5881601 16.2450319,17.2355198 C18.3499933,15.122395 18.5882217,11.787288 16.843854,9.40419442 C16.5176463,8.95854098 16.6144763,8.33282391 17.0601297,8.00661622 C17.5057831,7.68040853 18.1315002,7.77723844 18.4577079,8.22289188 Z M11.9996727,3 C12.5125085,2.99983219 12.9353061,3.38573401 12.993234,3.88305376 L13,3.99967268 L13.0026186,11.9996727 C13.0027993,12.5519574 12.5552306,12.9998192 12.0029459,13 C11.4901101,13.0001678 11.0673124,12.614266 11.0093845,12.1169462 L11.0026186,12.0003273 L11,4.00032732 C10.9998193,3.4480426 11.447388,3.00018083 11.9996727,3 Z"></path>
                    </svg>
                    <div class="progressBar">
                        <svg data-v-446c9a67="" width="110" height="110" class="progress">
                            <circle data-v-446c9a67="" cx="55" cy="55" r="52" stroke-width="6"  stroke-dashoffset="0" stroke-linecap="round" class="progress-bar"></circle>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="status">Соеденение установлено</div>

            <div class="box">
                <label for="action">Action</label>
                <input id="action" name="action" disabled type="text" value="test">
            </div>
            <div class="box">
                <label for="date">Date</label>
                <input id="date" name="date" type="text">
            </div>
        </div>
        <div class="footer">
            <span>@INGOS 2022</span>
            <span>ingosCAPTCHA</span>
        </div>
    </div>
</body>
<script>
    window.addEventListener('load', () => {
        const date = document.getElementById('date')
        const action = document.getElementById('action')
        let isShift = false;
        const separator = "-";

        date.setAttribute('maxlength', '10');
        date.onkeydown = (e) => isNumeric(date, e.keyCode);
        date.onkeyup = (e) => validateDateFormat(date, e.keyCode)

        const isNumeric = (input, keyCode) => {
            if (keyCode === 16) {
                isShift = true;
            }
            //Allow only Numeric Keys.
            if (((keyCode >= 48 && keyCode <= 57) || keyCode === 8 || keyCode <= 37 || keyCode <= 39 || (keyCode >= 96 && keyCode <= 105)) && isShift === false) {
                if ((input.value.length === 2 || input.value.length === 5) && keyCode !== 8) {
                    input.value += separator;
                }

                return true;
            }
            else {
                return false;
            }
        };

        const validateDateFormat = (input, keyCode) => {
            var dateString = input.value;
            if (keyCode === 16) {
                isShift = false;
            }

            const regex = new RegExp(`(((0|1)[0-9]|2[0-9]|3[0-1])\\${separator}(0[1-9]|1[0-2])\\${separator}((19|20)\\d\\d))$`);

            //Check whether valid dd/MM/yyyy Date Format.
            if (regex.test(dateString) || dateString.length === 0) {
                showHideError(input, "none");
            } else {
                showHideError(input, "block");
            }
        };

        const showHideError = (textbox, display) => {
            console.log('Error', display)
        };

    })

</script>
</html>
